<!DOCTYPE html><html><head><meta charset="utf-8" /><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" /><meta content="text/html; charset=utf-8" http-equiv="content-type" /><title>Q17 - Really negative</title><meta content="Aaron Powell" name="author" /><meta content="me@aaron-powell.com" name="email" /><meta content="Q17 - Really negative" name="title" /><meta content="Regular JavaScript questions to explore the fun world of JavaScript and keep you on your toes. Follow @JavaScriptQuiz on Twitter for the latest questions" name="description" /><meta content="width=device-width" name="viewport" /><link href="/styles/site.css" rel="stylesheet" type="text/css" /><link href="/favicon.ico" rel="shortcut icon" type="image/x-icon" /><script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script></head><body class="q17-- really negative"><div id="main"><header><h1><a href="http://javascriptquiz.com">JavaScript Quiz</a></h1><h3>Regular JavaScript questions to explore the fun world of JavaScript and keep you on your toes. Follow @JavaScriptQuiz on Twitter for the latest questions</h3></header><div id="content" class="content"><article id="post" class="post undefined"><h1>Q17 - Really negative</h1><h3>Mon Nov 21 2011</h3><div><p>Under what conditions would the following code snippet return a result of <code>true</code>?</p>

<script src="https://gist.github.com/1380123.js"> </script>

<span style="text-decoration: line-through;">Post your JavaScript as a comment. Comments will be held in the moderation queue until the answer is posted. Full answer and explanation will be appended to this post around 72 - 96 hours after the question is posted.</span>

<span style="text-decoration: line-through;">If you don't want your answer public, please post a comment like 'playing at home' so I can at least guage how many people are participating and whether the questions are useful.</span>

<p>Good Luck :).</p>

<hr></hr>

<p>The JavaScript <a href="http://es5.github.com/#x8.5">Number</a> type is an implementation of IEEE 754 and it has all the really exciting things that come along with that.</p>

<p>One of the things that is included in the numbering thing is the implementation of <code>-0</code>.</p>

<p>If you guessed that <code>-0</code> will return <code>true</code> then you&#39;re right, well at least you&#39;re <em>partially</em> right (excluding values that coerce to 0), there&#39;s actually another value (well, range of values) that will do it...</p>

<p>Any number less than or equal to <code>-Math.pow(2, -1074)</code> will also return <code>-Infinity</code> when the divisor of 1, thus resulting in true being retured. Sorry I&#39;m not enough of a math nerd to tell you <em>why</em>, just that it&#39;s an interesting footnote. If you actually want to test for <code>-0</code> then you want to do this:</p>

<pre><code>var fn = function(x) {
    return x === 0 &amp;&amp; (1/x) === -Infinitiy;
};</code></pre>

<p>Hang on though, why does <code>-0</code> equal <code>0</code> (or <code>+0</code>)?</p>

<p>Well if you take a look <a href="http://es5.github.com/#x11.9.6">11.9.6 - The Strict Equality Comparison Algorithm</a> (and the <a href="http://es5.github.com/#x11.9.3">11.9.3 The Abstract Equality Comparison Algorithm</a>) if they are either forms of <code>0</code> they will be treated as having the same sign.</p>

<p>And there you have it, that&#39;s how to test for <code>-0</code> separately from <code>+0</code>. The usefulness of this is up to you to work out :P.</p></div></article><a href="https://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="javascriptquiz">Tweet</a><script type="text/javascript" src="//platform.twitter.com/widgets.js"> </script><section id="comments"><h3>Answers</h3><div id="disqus_thread">&nbsp;</div><script>var __slice = Array.prototype.slice;var __hasProp = Object.prototype.hasOwnProperty;var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };var __extends = function(child, parent) {  for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; }  function ctor() { this.constructor = child; }  ctor.prototype = parent.prototype; child.prototype = new ctor; child.__super__ = parent.prototype;  return child; };var __indexOf = Array.prototype.indexOf || function(item) {  for (var i = 0, l = this.length; i < l; i++) {    if (this[i] === item) return i;  } return -1; };(function () {
    return $(function() {
      var _this = this;
      window.disqus_shortname = "javascriptquiz";
      window.disqus_identifier = document.title || 'Home';
      window.disqus_developer = document.location.href.indexOf("localhost") ? 1 : 0;
      window.disqus_url = document.location.href;
      if (typeof window.DISQUS !== "undefined") {
        return window.DISQUS.reset({
          reload: true,
          config: function() {
            _this.page.identifier = document.title;
            return _this.page.url = document.location.href;
          }
        });
      }
    });
  }).call(this);</script></section></div></div><script src="http://javascriptquiz.disqus.com/embed.js"></script><script src="http://www.google-analytics.com/ga.js"></script><script src="/scripts/modernizr.custom.js"></script><script src="/scripts/analytics.js"></script></body></html>